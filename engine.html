
<!DOCTYPE HTML>
<!--
	Hielo by TEMPLATED
	templated.co @templatedco
	Released for free under the Creative Commons Attribution 3.0 license (templated.co/license)
--><html><head><title>Adam Vlčko</title><meta charset="utf-8"><meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="assets/css/main.css"></head><body>

	<!-- Header -->
	<header id="header" class="alt">
		<div class="logo"><a href="index.html">Adam Vlčko</a></div>
		<a href="#menu">Menu</a>
	</header><!-- Nav --><nav id="menu">
		<ul class="links">
			<li><a href="index.html">Home</a></li>
			<li><a href="about.html">About me</a></li>
			<li><a href="engine.html">Game engine</a></li>
			<li><a href="blogs.html">Blogs</a></li>
			<!--<li><a href="elements.html">Elements</a></li>-->
		</ul>
	</nav><section class="banner full">
		<article>
			<img src="images/bg.jpg" alt="" width="1440" height="961">
			<div class="inner">
			<header><p>this page is about my</p>
					<h2>Game engine</h2>
			</header></div>
		</article>
	</section>
	<section id="two" class="wrapper style3">
		<a href="#history" style="text-decoration:none">
			<div class="inner">
				<header class="align-center">
					<p>Read about why I started and about the engine's</p>
					<h2>History</h2>
				</header>
			</div>
		</a>
	</section>
	<div class="engine">
		<h1>
			Info
		</h1>


		<img src="images/SDL.png" alt="" class="image-round image medium floatR" style="box-shadow: 10px 10px #6d7778; margin-bottom: 4vh">

		<p>
			I have been writing this 2D game engine since <b>July 2023</b> in <b>C++</b> with the help of <b>SDL2</b> (In future I will move it to SDL3 if it releases). The engine is simply <b>static library(.lib)</b>, which is then used in game project.
			For rendering I use SDL Renderer, which seems to do the job for now.
			As for more technical side of engine it uses <a href="#ecs" class="new-color-link">ECS</a>, which makes it fast enough for my demands.
			<br>
			If you want to download or just check out the source or documentation see <a href="https://github.com/F1shS0up/SDL_GameEngine" class="new-color-link">GitHub</a>
		</p>
		<h2>
			Features
		</h2>
		<p>
			It has softbody <b><a href="#softbody-vid" class="new-color-link">simulation</a>, rigidbodies, sprites, animators, sprite sheets, some simple ui(buttons, text, input field...) and much more</b>. The feature list will be constantly updated - it's still in early stage of development...
		</p>


		<h1 id="history">
			History
		</h1>
		<h2>
			How it started?
		</h2>
		<p>
			I started thinking about making a game engine after I <b>switched</b> from Unity to Unreal Engine.
			The urge to make an engine came from my disability to adapt to the Unreal Engine. I couldn't get into my real pace and I didn't enjoy it.
			It was <b>crashing</b> constantly, many bugs that weren't caused by me and much more. I didn't want to go back to Unity either, because at that time they changed their <b>pricing plan</b>,
			which made it worse for indie developers.
		</p>
		<p>
			Therefore I had 3 options:
			<b>
				<ol type="A">
					<li>Try Godot</li>
					<li>Move to framework</li>
					<li>Create my own engine</li>
				</ol>
			</b>

		<p>
			I decided not to try godot because of the <b>lack of documentation</b> for C# users, I would also rather use <b>C++</b>. I also thought of using <b>framework</b> like XNA(currently monogame) or SDL.
			Then it striked me, I could use some framework or library like SDL for rendering and create Game engine with it.
		</p>
		<h2>
			The beginning game development
		</h2>
		<p>
			I started by trying to implement almost everything on my own. I decided to use <b>Vulkan</b>, but after implementing opening the window <b>I gave up</b>. I chose more easier approach using <b>SDL</b>.
			With it I just use some already made functions and I have a window with renderer up and running. Once I've done that, I started thinking how will the engine work.
		</p>
		<p>
			My first thought was, that there will be array of <b>objects</b> and each object will be a <b>class that derives from parent object class</b>, which will have some basic functions like <b>Begin, Update and Draw</b>.
			The derived class will <b>override</b> these functions from the parent and some manager would call these functions. Object will also have list of components. This system is very similar to <b>Unity's system</b>.
			However there is faster system called <a href="#ecs" class="new-color-link">ECS</a>.
		</p>
		<h2>
			The main development
		</h2>
		<p>
			I started with creating some algorithms for drawing two main shapes <b>squares and circles</b>.
			After trying to make algorithm for polygons I realized there is special library for it called "GFX Primitives" so I used that. I had to change some bits to make it work, but after a while I fixed it.
		</p>
		<p>
			After that I created <b>transform component</b> just holding position. Then I created square made of 4 lines to create a place to test collision. Collision was really complex so I started with making 2 components:
		</p>
		<ol>
			<li><b>Line collider</b> - contains points A and B and normal to these points</li>
			<li><b>Circle collider</b> - pointer to position from transform and radius</li>
		</ol>
		<br>
		<img src="images/circle-intersection.jpg" alt="" class="image extra small floatR">
		<p>
			In nutshell, you check if the <b>circle's line</b>
			(containing point from the <b>middle</b> of the circle and a point in the direction of the other line normal, that will have size of the circle's radius) <b>intersects</b> with the line that you're checking collision with.
			If it does that means there's collision. Then we resolve collision
		</p>

		<br>
		<br>
		<video controls>
			<source src="images/circle-line-collision.mp4" type="video/mp4">
		</video>

		<!--<img src="images/arrow-in-wall.png" alt="" class="image extra small height floatL">
	<img src="images/triangle-formula.png" alt="" class="image extra small floatR">-->
		<!--<p>
		To resolve the collision we need to calculate bounce angle. In order to calculate it we need a normal vector of the line facing the objects direction(<a style="color: #0007ff; text-decoration: none; font-weight:600">n</a>),
		and we also need the velocity of the object(<a style="color: #0007ff; text-decoration: none; font-weight:600">v</a>).
		We then use this formula:
		<br>
		<a style="color: #0007ff; text-decoration: none; font-weight:600">u</a> = (<a style="color: #0007ff; text-decoration: none; font-weight:600">v</a> * <a style="color: #0007ff; text-decoration: none; font-weight:600">n</a>
		/ <a style="color: #0007ff; text-decoration: none; font-weight:600">n</a> * <a style="color: #0007ff; text-decoration: none; font-weight:600">n</a>) * <a style="color: #0007ff; text-decoration: none; font-weight:600">n</a>
			<p>
		<a style="color: #0007ff; text-decoration: none; font-weight:600">w</a> = <a style="color: #0007ff; text-decoration: none; font-weight:600">v</a> - <a style="color: #0007ff; text-decoration: none; font-weight:600">u</a>
		<p>
		<b>new velocity</b> = <a style="color: #0007ff; text-decoration: none; font-weight:600">w</a> - <a style="color: #0007ff; text-decoration: none; font-weight:600">u</a>
	</p>
	<br>-->
		<br>
		<br>
		<br>
		<br>
		<p>
			This is just collision between a line and circle. There are way more <b>algorithms</b> and formulas to make collision and rigidbody work. Next I wanted to make <b>softbody simulation</b>.
		<p>
			I won't go into much detail, but each softbody has <b>mass points</b>, that have some values like <b>velocity, position and force</b>. Each frame you recalculate these values. You apply forces to the points like <b>gravity</b>.
			Then to keep it together you create <b>springs</b>. They are just force that contain 2 points and some resting length. If the length is larger than the resting length,
			it applies the force towards the points, if it's smaller, it applies the forces away from each other. There are other things to consider like shape matching, damping and much more...
		</p>
		<br>
		<br>
		<video controls id="softbody-vid">
			<source src="images/softbody-sim.mp4" type="video/mp4">
		</video>
		<br>
		<br>
		<br>
		<br>
		<p>
			After that I just started creating more important and usable things like <>sprite, movement, animator, sprite sheet and much more</b>.
		<p>
			If you want to learn more about <b>circle(or particle)</b> collision I suggest you see this <a href="https://www.youtube.com/watch?v=eED4bSkYCB8" class="new-color-link">Video</a>
		<p>
			If you would like to look closer to how <b>softbodies</b> work look at these videos:
			<ol type="I">
				<li><a href="https://www.youtube.com/watch?v=kyQP4t_wOGI" class="new-color-link">Softbody physics</a></li>
				<li><a href="https://www.youtube.com/watch?v=3OmkehAJoyo" class="new-color-link">Jelly car physics</a></li>
			</ol>


		</p>
		
		<!--<h2 id="ecs" style="text-align:left;margin-left: 8vw; margin-right:auto">
			*ECS
		</h2>-->
		<p style="margin-top:25vh">
			<b  id="ecs">*ECS</b> is <b>E</b>ntity <b>C</b>omponent <b>S</b>ystem. 
				<ul>
					<li><b>Entity</b> - An entity in a game engine, is a general-purpose object represented by only a unique ID, often implemented as a plain integer, nothing more.</li>
					<li><b>Component</b> - A component labels an entity with a specific aspect and stores the required data. For instance, a game object capable of taking damage may have a Health component.</li>
					<li><b>System</b> - A system is a process that operates on entities with specific components. For instance, a physics system may query entities with mass, velocity, and position components, iterating over the results to perform physics calculations on each entity's set of components.</li>
				</ul>
		</p>
	</div>

	
		<!-- Footer --><footer id="footer">
			<div class="container">
				<ul class="icons">
					<li><a href="https://twitter.com/m1lksh4k3_g4m3s" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
					<li><a href="https://github.com/F1shS0up/" class="icon fa-github"><span class="label">Github</span></a></li>
					<li><a href="mailto:adam.vlcko@centrum.cz" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
				</ul>
			</div>

		</footer><div class="copyright">
			Adam Vlčko
		</div>
	

	<!-- Scripts -->
	<script src="assets/js/jquery.min.js"></script>
	<script src="assets/js/jquery.scrollex.min.js"></script>
	<script src="assets/js/skel.min.js"></script>
	<script src="assets/js/util.js"></script>
	<script src="assets/js/main.js"></script>
</body></html>
